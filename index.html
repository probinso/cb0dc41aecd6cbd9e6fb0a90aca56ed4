<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="css/table.css">

<script language="JavaScript">
function readJson(fileName){
    xmlhttp = new XMLHttpRequest();
    xmlhttp.open("GET", fileName, false);
    xmlhttp.send();
    return eval("("+xmlhttp.responseText+")");
}	
var ary = readJson("outfile.json");
</script>

<script language="JavaScript" src="tablemaker.js"></script>

<script language="JavaScript">
function fillDate() {
    
    var datelist = getDates(ary);
    var x = document.getElementById("selectDate");
    
    for (var i = 0; i < datelist.length; i++) {
        var option = document.createElement("option");
        option.text = datelist[i];
        option.value = datelist[i];
        x.options.add(option,1);
    }
}
</script>


<script language="JavaScript">
function updateTable() {
    var date = document.getElementById("selectDate").value;
    var filtertext = document.getElementById("filtertext").value;
    
    var sites = getByDate(ary, date);
    var valid = filter(sites, filtertext);
    
    var x;
    if (valid.length == 0) {
        x = "<strong> No Valid Entries </strong>"
    } else {
        x = sites_to_table(valid);
    }
    document.getElementById("mytable").innerHTML = x;
}
</script>


<body onload="fillDate();">

<h1>cb0dc41aecd6cbd9e6fb0a90aca56ed4</h1>

<form>
<select id="selectDate"></select>
<input type="text" id="filtertext">

<button type="button" onclick="updateTable()">Try it</button>
</form>

<span id="mytable"></span>

</body>
</html> 
